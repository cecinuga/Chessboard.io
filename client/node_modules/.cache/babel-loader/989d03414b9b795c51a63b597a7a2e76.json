{"ast":null,"code":"var _jsxFileName = \"/home/peterbruegel/GitHub/chessboard.io/client/src/components/BtnConnect.js\",\n    _s = $RefreshSig$();\n\nimport { useMoralis } from \"react-moralis\";\nimport React, { useEffect } from 'react';\nimport store from '../app/store';\nimport { userSlice } from '../features/userSlice.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BtnConnect(_ref) {\n  _s();\n\n  let {\n    id,\n    names,\n    href,\n    img,\n    classes,\n    current\n  } = _ref;\n  const {\n    authenticate,\n    isAuthenticated,\n    isAuthenticating,\n    user,\n    account,\n    logout\n  } = useMoralis();\n  useEffect(() => {\n    if (isAuthenticated) {\n      document.getElementById('btn-connect-header').innerHTML = names[1];\n    } else {\n      document.getElementById('btn-connect-header').innerHTML = names[0];\n    }\n  }, [isAuthenticated]);\n\n  const toggleLogin = async () => {\n    if (!isAuthenticated) {\n      await authenticate({\n        signingMessage: \"Log in using Moralis\"\n      }).then(function (user) {\n        console.log(\"logged in user:\", user);\n        console.log(user.get(\"ethAddress\"));\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      await logOut();\n    }\n  };\n\n  const logOut = async () => {\n    await logout();\n    console.log(\"logged out\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Btn-Connect inline-block mr-2 mt-2 bg-red-400 p-1 text-gray-200 rounded border-2 border-solid border-red-600 mb-2\" + classes,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"btn-connect-header\",\n      className: \"Connect-Link\",\n      onClick: () => {\n        toggleLogin();\n      },\n      children: names[0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"\",\n      src: img\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BtnConnect, \"Z4hWEI3PScZxybhIP2M5jY0pO/Y=\", false, function () {\n  return [useMoralis];\n});\n\n_c = BtnConnect;\n\nvar _c;\n\n$RefreshReg$(_c, \"BtnConnect\");","map":{"version":3,"names":["useMoralis","React","useEffect","store","userSlice","BtnConnect","id","names","href","img","classes","current","authenticate","isAuthenticated","isAuthenticating","user","account","logout","document","getElementById","innerHTML","toggleLogin","signingMessage","then","console","log","get","catch","error","logOut"],"sources":["/home/peterbruegel/GitHub/chessboard.io/client/src/components/BtnConnect.js"],"sourcesContent":["import { useMoralis } from \"react-moralis\";\nimport React, { useEffect } from 'react';\nimport store from '../app/store';\nimport { userSlice } from '../features/userSlice.js';\n\nexport default function BtnConnect({ id, names, href, img, classes, current }) {\n    const { authenticate, isAuthenticated, isAuthenticating, user, account, logout } = useMoralis();\n\n    useEffect(() => {\n      if (isAuthenticated) {\n        document.getElementById('btn-connect-header').innerHTML=names[1];\n      } else { \n        document.getElementById('btn-connect-header').innerHTML=names[0];\n      }\n    }, [isAuthenticated]);\n\n    const toggleLogin = async () => {\n      if (!isAuthenticated) {\n        await authenticate({signingMessage: \"Log in using Moralis\" })\n          .then(function (user) {\n            console.log(\"logged in user:\", user);\n            console.log(user.get(\"ethAddress\"));\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      } else { await logOut(); }\n    }\n\n    const logOut = async () => {\n      await logout();\n      console.log(\"logged out\");\n    }\n\n    return (\n        <div className={\"Btn-Connect inline-block mr-2 mt-2 bg-red-400 p-1 text-gray-200 rounded border-2 border-solid border-red-600 mb-2\"+classes}>\n            <button id=\"btn-connect-header\" className=\"Connect-Link\" onClick={()=>{ toggleLogin(); }} >{names[0]}</button>\n            <img className=\"\" src={img}></img>\n        </div>\n    );\n}"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,eAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,SAASC,SAAT,QAA0B,0BAA1B;;AAEA,eAAe,SAASC,UAAT,OAAgE;EAAA;;EAAA,IAA5C;IAAEC,EAAF;IAAMC,KAAN;IAAaC,IAAb;IAAmBC,GAAnB;IAAwBC,OAAxB;IAAiCC;EAAjC,CAA4C;EAC3E,MAAM;IAAEC,YAAF;IAAgBC,eAAhB;IAAiCC,gBAAjC;IAAmDC,IAAnD;IAAyDC,OAAzD;IAAkEC;EAAlE,IAA6EjB,UAAU,EAA7F;EAEAE,SAAS,CAAC,MAAM;IACd,IAAIW,eAAJ,EAAqB;MACnBK,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,GAAwDb,KAAK,CAAC,CAAD,CAA7D;IACD,CAFD,MAEO;MACLW,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,GAAwDb,KAAK,CAAC,CAAD,CAA7D;IACD;EACF,CANQ,EAMN,CAACM,eAAD,CANM,CAAT;;EAQA,MAAMQ,WAAW,GAAG,YAAY;IAC9B,IAAI,CAACR,eAAL,EAAsB;MACpB,MAAMD,YAAY,CAAC;QAACU,cAAc,EAAE;MAAjB,CAAD,CAAZ,CACHC,IADG,CACE,UAAUR,IAAV,EAAgB;QACpBS,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BV,IAA/B;QACAS,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACW,GAAL,CAAS,YAAT,CAAZ;MACD,CAJG,EAKHC,KALG,CAKG,UAAUC,KAAV,EAAiB;QACtBJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;MACD,CAPG,CAAN;IAQD,CATD,MASO;MAAE,MAAMC,MAAM,EAAZ;IAAiB;EAC3B,CAXD;;EAaA,MAAMA,MAAM,GAAG,YAAY;IACzB,MAAMZ,MAAM,EAAZ;IACAO,OAAO,CAACC,GAAR,CAAY,YAAZ;EACD,CAHD;;EAKA,oBACI;IAAK,SAAS,EAAE,sHAAoHf,OAApI;IAAA,wBACI;MAAQ,EAAE,EAAC,oBAAX;MAAgC,SAAS,EAAC,cAA1C;MAAyD,OAAO,EAAE,MAAI;QAAEW,WAAW;MAAK,CAAxF;MAAA,UAA4Fd,KAAK,CAAC,CAAD;IAAjG;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAK,SAAS,EAAC,EAAf;MAAkB,GAAG,EAAEE;IAAvB;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH;;GAnCuBJ,U;UAC+DL,U;;;KAD/DK,U"},"metadata":{},"sourceType":"module"}